
<!DOCTYPE html>
<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Luma - Edit Topic</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#197fe6",
            "accent": {
              DEFAULT: "#f59e0b", // Amber 500
              hover: "#d97706",   // Amber 600
              dark: "#facc15"     // Yellow 400 for dark mode text
            },
            "background-light": "#f6f7f8",
            "background-dark": "#111921",
          },
          fontFamily: {
            "display": ["Lexend", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
<style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24;
      font-size: 20px;
    }
    input, textarea, select {
        --tw-ring-color: theme('colors.accent.DEFAULT');
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex min-h-screen w-full">
<aside class="flex w-64 flex-col border-r border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-background-dark">
<div class="flex flex-col gap-4">
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="Luma platform logo" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCJT18t6wHfURQQ8Z3ht2g6SHUqnIMHcX85F8RqEFO25YUty5UKb-mlsS5DG9AGhf2aPMKo-MBH0MtfDZ2lCQFl6MPjkES8iPWd3BxPzTlVSZanDN9BzdZBhzDss9uMf6cWA0HMuRYwm9BSpW47_kx-0h4cOc35DugHPpGOxDbp-fqUHTPNTiHwzJJ8MKXQ5XyfW83xfBNj0G9Oqm02KA_0TQQdFAabVD9YE4QEfHyychL_PqZo3oclVFOFub9Zgk9GsXFFRA7mqVTJ");'></div>
<div class="flex flex-col">
<h1 class="text-slate-900 text-base font-medium leading-normal dark:text-slate-200">{{ full_name }}</h1>
<p class="text-slate-500 text-sm font-normal leading-normal dark:text-slate-400">Admin Panel</p>
</div>
</div>
<nav class="mt-4 flex flex-col gap-2">
<a class="flex items-center gap-3 rounded-lg bg-accent/10 px-3 py-2 transition-colors duration-200" href="{% url 'admin_page' %}">
<span class="material-symbols-outlined text-accent dark:text-accent-dark">list_alt</span>
<p class="text-sm font-medium leading-normal text-accent dark:text-accent-dark">Topics</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 transition-colors duration-200 hover:bg-slate-100 dark:hover:bg-slate-800" href="#">
<span class="material-symbols-outlined text-slate-700 dark:text-slate-300">group</span>
<p class="text-slate-700 text-sm font-medium leading-normal dark:text-slate-300">Users</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 transition-colors duration-200 hover:bg-slate-100 dark:hover:bg-slate-800" href="#">
<span class="material-symbols-outlined text-slate-700 dark:text-slate-300">settings</span>
<p class="text-slate-700 text-sm font-medium leading-normal dark:text-slate-300">Settings</p>
</a>
</nav>
</div>
<div class="mt-auto flex flex-col gap-1">
<a class="flex items-center gap-3 rounded-lg px-3 py-2 transition-colors duration-200 hover:bg-slate-100 dark:hover:bg-slate-800" href="{% url 'homepage' %}">
<span class="material-symbols-outlined text-slate-700 dark:text-slate-300">logout</span>
<p class="text-slate-700 text-sm font-medium leading-normal dark:text-slate-300">Log Out</p>
</a>
</div>
</aside>
<main class="flex flex-1 flex-col p-6 lg:p-8">
<form method="POST" action="{% url 'update_topic' topic_id=topic.topic_id %}" id="editTopicForm">
{% csrf_token %}
<input type="hidden" name="topic_id" value="{{ topic.topic_id }}">

<div class="flex flex-wrap items-center justify-between gap-4">
<h1 class="text-slate-900 text-3xl font-black leading-tight tracking-[-0.033em] dark:text-white">Edit Topic: {{ topic.title }}</h1>
<div class="flex items-center gap-4">

</div>
</div>
<div class="mt-8">
<div class="space-y-8">
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">Hero Section</h2>
<div class="mt-4 space-y-4">
<div>
<div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="topicIcon">Topic Icon</label>
<input name="icon" class="form-input w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="topicName" value="{{ topic.icon|default:'' }}" type="text" />
</div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="topicName">Topic Name (Hero Title)</label>
<input name="title" class="form-input w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="topicName" value="{{ topic.title|default:'' }}" type="text" required/>
</div>
<div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="topicSubtitle">Subtitle</label>
<input name="subtitle" class="form-input w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="topicSubtitle" value="{{ topic.subtitle|default:'' }}" placeholder="A short, engaging subtitle" type="text"/>
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">Why it Matters</h2>
<div class="mt-4 space-y-4">
<div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="purposeParagraph">Purpose (Main Article Body)</label>
<textarea name="purpose" class="form-textarea w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="purposeParagraph" placeholder="Explain the primary purpose of the topic..." rows="4">{{ topic.purpose|default:'' }}</textarea>
</div>
<div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="whyParagraph">Why it Matters (Hover Text)</label>
<textarea name="why_it_matters" class="form-textarea w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="whyParagraph" placeholder="Explain the importance and relevance of the topic..." rows="4">{{ topic.why_it_matters|default:'' }}</textarea>
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">Real-World Magic</h2>
<div class="mt-4 space-y-4">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    {% for magic in magic_points %}
        <div class="space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-800">
            <input type="hidden" name="magic_id_{{ forloop.counter }}" value="{{ magic.magic_id }}">
            
            <input name="magic_icon_{{ forloop.counter }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                   placeholder="Icon (e.g., 'route')" type="text" value="{{ magic.icon|default:'' }}"/>
            
            <input name="magic_title_{{ forloop.counter }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                   placeholder="Card Title" type="text" value="{{ magic.card_title|default:'' }}"/>
            
            <textarea name="magic_desc_{{ forloop.counter }}" class="form-textarea w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                      placeholder="Card Description" rows="3">{{ magic.card_description|default:'' }}</textarea>
        </div>
    {% empty %}
        {% for i in "123"|make_list %}
            <div class="space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-800">
                <input name="magic_icon_{{ i }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="Icon (e.g., 'route')" type="text"/>
                <input name="magic_title_{{ i }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="Card Title" type="text"/>
                <textarea name="magic_desc_{{ i }}" class="form-textarea w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="Card Description" rows="3"></textarea>
            </div>
        {% endfor %}
    {% endfor %}
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">What Learning Unlocks</h2>
<div class="mt-4 space-y-4">
<div class="space-y-2">
<label class="block text-sm font-medium text-slate-700 dark:text-slate-300">List Items</label>
    {% for unlock in unlocks %}
        <div class="flex items-center gap-2">
            <input type="hidden" name="unlock_id_{{ forloop.counter }}" value="{{ unlock.unlock_id }}">

            <input name="unlock_item_{{ forloop.counter }}" class="form-input flex-grow rounded-lg border-slate-300 bg-background-light text-sm dark:border-slate-700 dark:bg-background-dark dark:text-white" 
                   placeholder="List item {{ forloop.counter }}" type="text" value="{{ unlock.list_item|default:'' }}"/>
            
            <button type="button" class="p-1.5 rounded-full text-slate-500 hover:bg-slate-200 hover:text-slate-700 dark:hover:bg-slate-700 dark:hover:text-slate-300 transition-colors"><span class="material-symbols-outlined text-base">delete</span></button>
        </div>
    {% empty %}
        <div class="flex items-center gap-2">
            <input name="unlock_item_1" class="form-input flex-grow rounded-lg border-slate-300 bg-background-light text-sm dark:border-slate-700 dark:bg-background-dark dark:text-white" placeholder="List item 1" type="text"/>
            <button type="button" class="p-1.5 rounded-full text-slate-500 hover:bg-slate-200 hover:text-slate-700 dark:hover:bg-slate-700 dark:hover:text-slate-300 transition-colors"><span class="material-symbols-outlined text-base">delete</span></button>
        </div>
    {% endfor %}
<button class="flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-accent transition-colors hover:bg-accent/10 dark:text-accent-dark dark:hover:bg-accent-dark/10">
<span class="material-symbols-outlined">add_circle</span>
<span>Add Item</span>
</button>
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">Mini Story to Inspire</h2>
<div class="mt-4 space-y-4">
<div>
<label class="mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300" for="storyParagraph">Paragraph</label>
<textarea name="mini_story" class="form-textarea w-full rounded-lg border-slate-300 bg-background-light dark:border-slate-700 dark:bg-background-dark dark:text-white" id="storyParagraph" placeholder="Share a short, inspiring story related to the topic..." rows="5">{{ topic.mini_story|default:'' }}</textarea>
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
<h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">External Resources</h2>
<div class="mt-4 space-y-4">
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    {% for resource in resources %}
        <div class="space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-800">
            <input type="hidden" name="resource_id_{{ forloop.counter }}" value="{{ resource.resource_id }}">

            <input name="resource_icon_{{ forloop.counter }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                   placeholder="Icon (e.g., 'menu_book')" type="text" value="{{ resource.icon|default:'' }}"/>
            
            <input name="resource_title_{{ forloop.counter }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                   placeholder="Link Title" type="text" value="{{ resource.link_title|default:'' }}"/>
            
            <input name="resource_url_{{ forloop.counter }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" 
                   placeholder="URL" type="url" value="{{ resource.url|default:'' }}"/>
        </div>
    {% empty %}
        {% for i in "123"|make_list %}
            <div class="space-y-3 rounded-lg bg-slate-50 p-4 dark:bg-slate-800">
                <input name="resource_icon_{{ i }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="Icon (e.g., 'menu_book')" type="text"/>
                <input name="resource_title_{{ i }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="Link Title" type="text"/>
                <input name="resource_url_{{ i }}" class="form-input w-full rounded-md border-slate-300 bg-white text-sm dark:border-slate-600 dark:bg-slate-700 dark:text-white" placeholder="URL" type="url"/>
            </div>
        {% endfor %}
    {% endfor %}
</div>
</div>
</div>
<div class="rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900">
    <h2 class="text-lg font-bold text-slate-800 dark:text-slate-200">Publishing Status</h2>
    <p class="text-sm text-slate-500 dark:text-slate-400 mt-1 mb-4">Choose the visibility of this topic.</p>
    
    <div class="flex items-center space-x-6">
        
        <label class="flex items-center cursor-pointer">
            <input 
                type="radio" 
                name="status" 
                value="Draft" 
                {% if topic.status == 'Draft' %}checked{% endif %}
                class="form-radio size-4 text-accent border-slate-300 dark:border-slate-600 dark:bg-background-dark focus:ring-accent"
            />
            <span class="ml-2 text-sm font-medium text-slate-700 dark:text-slate-300">
                Draft 
                <span class="text-slate-500 text-xs">(Hidden from students)</span>
            </span>
        </label>

        <label class="flex items-center cursor-pointer">
            <input 
                type="radio" 
                name="status" 
                value="Published" 
                {% if topic.status == 'Published' %}checked{% endif %}
                class="form-radio size-4 text-accent border-slate-300 dark:border-slate-600 dark:bg-background-dark focus:ring-accent"
            />
            <span class="ml-2 text-sm font-medium text-slate-700 dark:text-slate-300">
                Published 
                <span class="text-slate-500 text-xs">(Visible to students)</span>
            </span>
        </label>

    </div>
</div>
</div>
</div>

<div class="flex flex-wrap items-center justify-end gap-4 mt-8">
    <a href="{% url 'admin_page' %}" class="flex min-w-[84px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg bg-slate-200 h-10 px-4 text-sm font-bold leading-normal tracking-[0.015em] text-slate-700 transition-all duration-300 hover:bg-slate-300 active:scale-95 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
        <span class="truncate">Cancel</span>
    </a>
    <button type="submit" class="flex min-w-[84px] cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg bg-accent text-white h-10 px-4 text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-accent-hover hover:scale-105 active:scale-95">
        <span class="material-symbols-outlined">save</span>
        <span class="truncate">Save Changes</span>
    </button>
</div>
</div>
</div>
</form>
</main>
</div>


</body></html>